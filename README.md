# 数据结构和算法
>本分享来自极客时间数据结构与算法之美课程中的王争前辈所梳理出来的概念,在此基础上做了一些梳理和总结作为学习笔记。

## 1.什么是数据结构，什么是算法？
>数据结构就是一组数据的存储结构，算法就是操作数据的一组方法。
数据结构是为算法服务的，算法要作用在特定的数据结构之上，
数据结构脱离了算法将毫无意义。

## 2.数据结构和算法可以用来做什么？
>程序=数据结构+算法，一个好的数据结构和算法设计可以让程序执行的更加高效。

## 3.数据结构与算法中最重要的概念是什么？
>复杂度分析是数据结构与算法中最重要的概念。复杂度分析是整个算法学习的精髓，只要掌握了它，数据结构和算法的内容基本上就掌握了一半。

## 4.为什么需要复杂度分析？
>人们说熟知的各种测试工具和性能监控工具可以得到程序的具体执行时间和资源消耗等信息，而且经过实际运行的数据得所到的执行效率也更为准确的，但是这种方式所暴露出来的问题主要如下：

+ 测试结果非常依赖测试环境
>同样一段代码在不同配置的机器环境下可能会得到截然相反的结果
+ 测试结果受数据规模的影响
>例如排序算法可能受待排序数据的影响，如果待排序的数据基本有序，那么插入排序效率可能优于快速排序。

所以我们需要一个不用具体的测试数据来测试，就可以粗略的估计算法执行效率的方法。

## 5.如何分析统计算法的执行效率和资源消耗？
>数据结构和算法本身解决的是快和省的问题，如何让代码运行的更快，如何让代码更省存储空间。我们可以采用时间复杂度和空间复杂度对一段程序代码进行分析，优化数据结构和算法。
### 大O复杂度表示法
```java
 int cal(int n) {
   int sum = 0;
   int i = 1;
   for (; i <= n; ++i) {
     sum = sum + i;
   }
   return sum;
 }
```
从CPU的角度看，每行代码都遵循着类似的操作：`读数据-运算-写数据`虽然每段代码的执行时间都不一样，但是我们可以粗略的估计，所以可以假设每行代码的执行时间都一样为unit_time。

在此基础上执行第2、3代码分别需要1个unit_time时间，第4、5行代码分别运行了n次，共需要2n*unit_time。所以总的执行时间为:
`(2+2n)*unit_time`。
>定律：所有代码的执行时间 T(n)与每行代码的执行时间成正比。

```java
 int cal(int n) {
   int sum = 0;
   int i = 1;
   int j = 1;
   for (; i <= n; ++i) {
     j = 1;
     for (; j <= n; ++j) {
       sum = sum +  i * j;
     }
   }
 }
```
根据定律可知，以上代码的执行时间为`（3+2n+2n^2）*unit_time`

>通过以上推导过程可以得到一个公式`T(n)=O(f(n))`
+ n表示数据规模的大小
+ f(n)表示每行代码执行次数的总和，因为是一个公式所以用f(n)表示
+ 公式中的O，表示代码执行时间 T(n) 与 f(n)表达式成正比。

#### 时间复杂度分析
>大O时间复杂度并不表示代码的真正执行时间，而是代码随着数据规模增长的变化趋势，所以也叫做渐进时间复杂度，简称时间复杂度。
1. 只关注循环执行次数最多的代码（随着n的规模而增大）
```java
 int cal(int n) {
   int sum = 0;
   int i = 1;
   for (; i <= n; ++i) {
     sum = sum + i;
   }
   return sum;
 }
```
以上代码时间复杂度为 O(n)，其中第2、3行代码都是常量级执行时间
2. 加法法则：总复杂度等于量级最大的那段代码的复杂度
```java
int cal(int n) {
   int sum_1 = 0;
   int p = 1;
   for (; p < 100; ++p) {
     sum_1 = sum_1 + p;
   }

   int sum_2 = 0;
   int q = 1;
   for (; q < n; ++q) {
     sum_2 = sum_2 + q;
   }
 
   int sum_3 = 0;
   int i = 1;
   int j = 1;
   for (; i <= n; ++i) {
     j = 1; 
     for (; j <= n; ++j) {
       sum_3 = sum_3 +  i * j;
     }
   }
 
   return sum_1 + sum_2 + sum_3;
 }
```
第一段for循环100次是一个常量级的执行时间，和n的规模无关，所以上述代码时间复杂度为 `O(n)+O(n^2)`。
3. 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积。
```java
int cal(int n) {
   int ret = 0; 
   int i = 1;
   for (; i < n; ++i) {
     ret = ret + f(i);
   } 
 } 
 
 int f(int n) {
  int sum = 0;
  int i = 1;
  for (; i < n; ++i) {
    sum = sum + i;
  } 
  return sum;
 }
```
上述代码时间复杂度为 O(n^2)

#### 空间复杂度分析
>渐进式空间复杂度，简称空间复杂度。和大O时间复杂度一样，空间复杂度和n的规模有关，并不表示程序真正所占用的空间。
```java
void print(int n) {
  int i = 0;
  int[] a = new int[n];
  for (i; i <n; ++i) {
    a[i] = i * i;
  }

  for (i = n-1; i >= 0; --i) {
    print out a[i]
  }
}
```
根据大O复杂度分析可知，此段代码的空间复杂度为 O(n)

## 6.常见的10个数据结构
数组、链表、栈、队列、散列表、二叉树、堆、跳表、图、Trie树。

## 7.常见的10个算法
递归、排序、二分查找、搜索、哈希算法、贪心算法、分治算法、回溯算法、动态规划、字符串匹配算法。